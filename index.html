<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Weather</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="info">
    <h1 id="location"></h1>

    <h2 id="temperature-now"></h2>
    <h2 id="is-rainy"></h2>
    <h2 id="is-snowy"></h2>

    <a href="#" id="share">Share</a>
  </div>

  <div class="row">
    <canvas id="temperature-chart"></canvas>
    <canvas id="rain-chart"></canvas>
  </div>
  <div class="row">
    <canvas id="snowfall-chart"></canvas>
    <canvas id="precipitation-chart"></canvas>
  </div>

  <div class="annotation">
    <details>
      <summary>Problem</summary>
      <p>
        For every person it is crucial to know the nearest weather forecast, especially at the place they are currently
        located in.
        The most significant parameters are temperature and different types of precipitation such as rain or snow.
        Summing up, the main problem solved by the application is providing people with brief information about the
        weather.
      </p>
    </details>

    <details>
      <summary>Auditory</summary>
      <p>
        As we see from the previous paragraph the user base is unlimited.
        Literally anyone who goes outside once in a while needs to be aware of weather forecast.
      </p>
    </details>

    <details>
      <summary>Usage</summary>

      <ol>
        <li class="main-feature">
          App can be used to see a brief information about current weather parameters at the users's geoposition
        </li>
        <li>
          App can be used to see latitude and longtitude of the user's current location
        </li>
        <li>
          App can be used to see name of the place where the user is located at the moment
        </li>
        <li>
          App can be used to see temperature forecast
        </li>
        <li>
          App can be used to see precipitation amount forecast
        </li>

        <li class="main-feature">
          App can be used to share information about the current weather parameters at the user's geoposition
        </li>
        <li>
          App can be used to share information about the user's current geoposition
        </li>
        <li>
          App can be used to share information about the name of the place where the user is currently located
        </li>
      </ol>
    </details>

    <details>
      <summary>Scenarios of Usage</summary>

      <ul>
        <li>
          User wants to see current temperature or other weather conditions at their region
        </li>
        <li>
          User wants to see weather forecast at their region for the next few days
        </li>
        <li>
          User wants to see the name of the region they are located in
        </li>
        <li>
          User wants to see their current coordinations
        </li>

        <li>
          User wants to share information about the temperature at their region quickly
        </li>
        <li>
          User wants to share information about their location quickly
        </li>
      </ul>
    </details>

    <details>
      <summary>Scenarios of Component Interaction</summary>

      <p><i>main()</i>
      <ul>
        <li>
          <i>getIP()</i>
        </li>

        <li>
          <i>locationInfo(ip)</i>
        </li>

        <li>
          <i>getWeatherState(lat, lon)</i>
          <ul>
            <li class="inner">
              <i>getApiUrl(lat, lon)</i>
            </li>
          </ul>
        </li>

        <li>
          <i>getDateIndex(weather)</i>
        </li>

        <li>
          <i>addCurrentWeatherInfo(location, weather, index)</i>
        </li>

        <li>
          <i>addSharing(location, weather, index)</i> depends on handler:
          <ul>
            <li class="inner">
              <i>shareButtonHandler()</i>, actually is an anonymous function
            </li>
          </ul>
        </li>

        <li>
          <i>drawCharts(weather, len)</i>
          <ul>
            <li class="inner">
              <i>drawChart(elem, data, title, labels, colors, len)</i>
            </li>
          </ul>
        </li>
      </ul>
      </p>
    </details>

    <details>
      <summary>Scenarios of Scripts Execution</summary>

      <p>
        All the scripts execute on application start except "Share" button listener. It only executes when "Share"
        button is clicked
      </p>

      <p>
        Below you can see the order of all the scripts execution:
      </p>

      <ol>
        <li>
          <i>main()</i> - the main function
        </li>
        <li>
          <i>getIP()</i> - gets user's IP
        </li>
        <li>
          <i>locationInfo(ip)</i> - gets user's location info (region name and coordinates) based on their IP address
        </li>
        <li>
          <i>getWheatherState(lat, lon)</i> - gets wheather forecast based on user's current geoposition
        </li>
        <li>
          <i>getApiUrl(lat, lon)</i> - builds weather API URL based on latitude and longtitude
        </li>
        <li>
          <i>getDateIndex(weather)</i> - gets index which points on current time weather forecast info
        </li>
        <li>
          <i>addCurrentWeatherInfo(location, weather, index)</i> - adds brief weather and location info
        </li>
        <li>
          <i>addSharing(location, weather, index)</i> - adds sharing button and its logic (if supported by browser)
        </li>
        <li>
          <i>drawCharts(weather, len)</i> - draws all 4 charts which show all the parameters of weather for nearest few
          days
        </li>
        <li>
          <i>drawChart(elem, data, title, labels, colors, len)</i> - algorithm for each of the charts drawing
        </li>
      </ol>
    </details>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>

</html>
